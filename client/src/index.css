@import "tailwindcss";

/* ============================================
   THEME TOKENS
   ============================================ */
@theme {
  --color-bg: var(--project-bg);
  --color-surface: var(--project-surface);
  --color-surface-hover: var(--project-surface-hover);
  --color-border: var(--project-border);
  --color-ink: var(--project-ink);
  --color-muted: var(--project-muted);
  
  --color-primary: var(--project-primary);
  --color-primary-hover: var(--project-primary-hover);
  
  --color-accent: #fbbf24;
  --color-danger: #f87171;
  --color-success: #34d399;

  --font-sans: "Inter", system-ui, sans-serif;
  --font-mono: "JetBrains Mono", monospace;
  
  --radius-sm: 0.5rem;
  --radius-md: 0.75rem;
  --radius-lg: 1rem;
}

/* Dynamic Field Theming */
@layer base {
  :root {
    /* Default (Dark) - Zinc 950 Base */
    --project-bg: #09090b;
    --project-surface: #18181b; 
    --project-surface-hover: #27272a;
    --project-border: #27272a;
    --project-ink: #fafafa;
    --project-muted: #a1a1aa;
    --project-primary: #6366f1; /* Indigo 500 */
    --project-primary-hover: #818cf8;
  }

  [data-theme="light"] {
    /* Light Mode - Zinc 50 Base */
    --project-bg: #f4f4f5; 
    --project-surface: #ffffff;
    --project-surface-hover: #e4e4e7;
    --project-border: #d4d4d8; 
    --project-ink: #18181b; /* Dark text */
    --project-muted: #71717a;
    --project-primary: #4f46e5; /* Indigo 600 - darker for contrast */
    --project-primary-hover: #4338ca;
  }
}

/* ============================================
   BASE STYLES
   ============================================ */
@layer base {
  body {
    @apply bg-bg text-ink font-sans fixed inset-0 w-full h-full overflow-hidden antialiased;
  }
  
  /* Selection color */
  ::selection {
    @apply bg-primary/30 text-white;
  }
}

/* ============================================
   COMPONENT STYLES
   ============================================ */
@layer components {
  /* App Container */
  .werewolf-app {
    @apply bg-bg text-ink font-sans w-full h-full flex flex-col relative overflow-hidden;
  }

  /* --- SHARED BUTTON BASE --- 
     Fixes circular dependency/unknown class error by grouping selectors.
     Design: More whitespace, cleaner look. 
  */
  .btn-primary, .btn-danger, .btn-secondary, .btn-outline {
    @apply flex items-center justify-center w-full px-6 py-4
           font-sans font-medium text-sm tracking-wide
           rounded-[var(--radius-lg)] border
           transition-all duration-300 ease-out cursor-pointer
           active:scale-[0.98]
           disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:shadow-none;
  }

  /* Variations */
  .btn-primary {
    @apply bg-primary text-white border-transparent 
           shadow-[0_4px_20px_-4px_rgba(99,102,241,0.5)]
           hover:bg-primary-hover hover:shadow-[0_8px_25px_-4px_rgba(99,102,241,0.6)] hover:-translate-y-0.5;
  }
  
  .btn-danger {
    @apply bg-danger/10 text-danger border-danger/20
           hover:bg-danger hover:text-white hover:border-danger hover:shadow-[0_8px_25px_-4px_rgba(248,113,113,0.5)];
  }
  
  .btn-secondary {
    @apply bg-surface text-muted border-transparent
           hover:bg-surface-hover hover:text-white;
  }

  .btn-outline {
    @apply bg-transparent border-border text-muted
           hover:border-primary/50 hover:text-primary hover:bg-primary/5;
  }

  /* Standard Input - Minimalist */
  .input-primary {
    @apply w-full bg-transparent border-b border-border text-ink
           px-2 py-4 text-base outline-none rounded-none
           transition-all duration-300
           focus:border-primary focus:bg-white/5;
  }

  .input-primary::placeholder {
    @apply text-muted/50 font-light;
  }
  
  /* Card/Surface - Glass-like, subtle */
  .card {
    @apply bg-surface/40 backdrop-blur-md border border-white/5 rounded-[var(--radius-lg)];
  }
}

/* ============================================
   UTILITY CLASSES
   ============================================ */

/* Hide Scrollbar but keep functionality */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Animations */
.animate-in {
  animation: fadeIn 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px) scale(0.98); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}

/* Pulse animation for waiting states */
.animate-pulse-slow {
    animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: .7; }
}
